# sab configuration

version: 1

data:
  provider: kis
  screen_limit: 60
  report_dir: reports
  data_dir: data

kis:
  base_url: https://openapi.koreainvestment.com:9443
  min_interval_ms: 500

screener:
  enabled: true
  limit: 60
  only: false
  cache_ttl_minutes: 5
  min_price: 1000
  min_dollar_volume: 3000000000
  # US-specific screener settings and thresholds
  us_mode: kis # 'kis' to use KIS screener; 'defaults' to use us_defaults list
  us_metric: value # 'volume' | 'market_cap' | 'value' (used when us_mode=kis)
  us_limit: 60
  us_defaults: # used when us_mode='defaults' or KIS falls back
    - AAPL.US
    - MSFT.US
    - NVDA.US
    - AMZN.US
    - META.US
    - GOOGL.US
  us:
    min_price: 5
    min_dollar_volume: 3000000

strategy:
  use_sma200_filter: true
  require_slope_up: false
  gap_atr_multiplier: 1.5
  min_history_bars: 200
  exclude_etf_etn: true
  rs_lookback_days: 60
  rs_benchmark_return: 0.0

sell:
  atr_trail_multiplier: 1.5
  time_stop_days: 30
  require_sma200: true
  ema_short: 20
  ema_long: 50
  rsi_period: 14
  rsi_floor: 50
  rsi_floor_alt: 30
  min_bars: 20

entry_check:
  enabled: false

universe:
  markets:
    - KR
    - US

files:
  holdings: holdings.yaml

fx:
  mode: kis
  cache_ttl_minutes: 10
  kis_symbol: AAPL.NAS
